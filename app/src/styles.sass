@use 'sass:color'
@import 'mat-palette'

$contmaxwidth: 1100px
$contpadding: 8px

$navbarheight: 40px

$userboxpadding: 4px
$fontsize: 12pt

body
  font-family: "Droid Sans", sans-serif
  font-size: $fontsize
  margin: #{$navbarheight + 16} 8px 8px
  color: color.adjust($maincolor, $lightness: -25%)

.main-container
  max-width: $contmaxwidth
  margin: 0 auto
  padding: 0 $contpadding

@mixin userbox
  border: solid 1px $maincolor
  border-radius: 3px
  padding: $userboxpadding
  color: $useboxfgcolor

@mixin userinput
  @include userbox
  background-color: $softbgcolor

@mixin userbutton
  @include userbox
  background-color: $userbuttonbgcolor
  padding: $userboxpadding #{$userboxpadding * 2}
  font-size: $fontsize

form.basicform
  label
    white-space: nowrap
  input
    @include userinput

@function tame($color)
  @return color.adjust($color, $saturation: -20%, $lightness: +10%)

form .formactions
  button
    @include userbutton
    &:hover
      background-color: color.adjust($maincolor, $lightness: 20%)
      color: $fgOnMaincolor
    &[disabled], &[disabled]:hover
      border-color: tame($maincolor)
      background-color: tame($userbuttonbgcolor)
      color: tame($useboxfgcolor)
    
form.basicform
  display: grid
  grid-template-columns: min-content min-content
  gap: 4px
  align-items: baseline
  label, input
    grid-area: auto
  .formerrors
    grid-area: span 1 / span 2
    color: $errorcolor
    font-size: 10pt
    p
      margin: 0
  .formactions
    grid-area: span 1 / span 2
    border-top: solid 1px $maincolor
    padding: 4px 0
    display: flex
    flex-flow: row-reverse
    button
      margin-left: 4px

@import '~@angular/material/theming'
@include mat-core()
$itero-mat-primary: mat-palette($itero-mat-maincolor, 900, A100, 900)
$itero-mat-accent: mat-palette($itero-mat-maincolor, A400, A200, A700)
$itero-mat-theme: mat-dark-theme(( color: ( primary: $itero-mat-primary, accent: $itero-mat-accent)))
@include angular-material-theme($itero-mat-theme)

.mat-form-field-wrapper
  padding: 0
  .mat-form-field-infix
    padding: 4px 0
    border-top: 0.3em solid transparent
    .mat-select-arrow-wrapper
      transform: none
  .mat-form-field-outline > div
    background-color: $softbgcolor
