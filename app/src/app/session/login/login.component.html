<app-server-error [error]="serverError"></app-server-error>

<form class="form-alone" [formGroup]="form" (ngSubmit)="onLogin()">
  <p class="request-result" *ngIf="forgotSent" i18n>
    An email has been sent to you with instructions to change your password.
  </p>
  <mat-form-field class="lone-field" appearance="standard">
    <mat-label i18n>User</mat-label>
    <input matInput type="text" formControlName="User" i18n-placeholder placeholder="Name or email" />
  </mat-form-field>
  <mat-form-field class="lone-field" appearance="standard">
    <mat-label i18n>Password</mat-label>
    <app-disclose-password formControlName="Passwd"></app-disclose-password>
  </mat-form-field>
  <div class="formerrors" *ngIf="errorType != 'None'" [ngSwitch]="errorType">
    <p *ngSwitchCase="'Wrong'" i18n>Wrong user name or password. Please try again.</p>
    <p *ngSwitchCase="'Unknown'" i18n>Unknown user name or email address.</p>
    <p *ngSwitchCase="'Already'" i18n>An email has already been sent to this user to change her password.</p>
  </div>
  <div class="formactions login-action">
    <button type="submit" [disabled]="!form.valid" i18n>Log in</button>
    <button type="button" (click)="onForgot()" [disabled]="!form.controls['User'].valid" class="forgot-passwd" i18n>
      Forgotten password
    </button>
  </div>  
</form>
