<form [formGroup]="form">
  <mat-form-field class="lone-field" appearance="standard">
    <mat-label i18n>Title</mat-label>
    <input matInput type="text" formControlName="Title" />
  </mat-form-field>
  <mat-form-field class="lone-field" appearance="standard">
    <mat-label i18n>Description</mat-label>
    <textarea matInput rows="1" formControlName="Description"></textarea>
  </mat-form-field>
  <mat-radio-group formControlName="Hidden">
    <p class="radio-hint" i18n>Accessibility</p>
    <mat-radio-button [value]="false" i18n>Make the poll public.</mat-radio-button>
    <mat-radio-button [value]="true"  i18n>Manually spread the link.</mat-radio-button>
  </mat-radio-group>
  <mat-checkbox *ngIf="(session.state$ | async).verified" class="verifiedPoll" formControlName="Verified" i18n>
    Restrict to users with a verified email.
  </mat-checkbox>
</form>

<ng-template #stepInfo let-query="query$">
  <ng-container *ngIf="query | async as q">
    <p i18n>
      The title of the poll should be the question the poll will answer to.
    </p>
    <p i18n>
      The optional description may give some additional information,
      for instance about the different alternatives.
    </p>
    <p *ngIf="!q.Hidden; else Hidden" i18n>
      The title will be displayed in the list of polls,
      allowing
      <ng-container [ngSwitch]="q.Verified">
        <ng-container *ngSwitchCase="false">any user</ng-container>
        <ng-container *ngSwitchCase="true" >users with a verified email</ng-container>
      </ng-container>
      to participate in.
      If you don't want the poll to be public, select "Manually spread the link".
    </p>
    <ng-template #Hidden>
      <p>
        The title will be displayed in the list of poll only for the participants in the poll.
        You will have to send the link of the poll to all the participants.
        <ng-container *ngIf="q.Verified">
          Beware that users whose email is not verified yet will not have access to the poll.
        </ng-container>
        If you prefer your poll to be public, select "Make the poll public".
      </p>
    </ng-template>
  </ng-container>
</ng-template>
